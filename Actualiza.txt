Actualización a Aprendiendo De Jesús 5.4p1
******************************************

La actualización consta de 3 partes:

      a) Preparar su sistema y descargar instalador
      b) Actualizar el Sistema Base
      c) Actualizar Aplicaciones 


a) Para preparar su sistema:
      * Aunque puede descargar DVD de instalación, es más breve y robusto ante
	fallas descargar los directorios y archivos del instalador con:
              	mkdir -p ~/comp/adJ;
		cd ~/comp/adJ;
		rsync-adJ 5.4p1
	Si ocurre alguna falla durante la transmisión podrá continuar donde
	quedó repitiendo estas instrucciones.
      * Si va a actualizar, debe sacar copia de la base de datos y realizar
        otras operaciones para preparar sus sitema, puede hacerlo ejecutando
	el archivo de ordenes preact-adJ.sh incluido en el directorio util 
	del DVD de instalación.
	Si descargó fuentes con el procedimiento anterior ejecutelo con:
              ~/comp/adJ/5.4p1-amd64/util/preact-adJ.sh

b) Para actualizar el sistema base:
      * Copie kernel y descomprima los archivos comprimidos con el sistema 
        base en su directorio raiz y reinicie, esto lo puede hacer con el 
	archivo de órdenes actbase.sh:
		cd ~/comp/adJ; 
		/usr/local/adJ/actbase.sh 5.4p1

c) Para la instalación/actualización de aplicaciones:
      * Después de reinicar debe ejecutar  el archivo de ordenes /inst-adJ.sh.
        Este archivo de comandos emplea codificación UTF8, por lo que para 
        iniciarlo se recomienda desde una terminal gráfica.  Suponiendo que 
        descargo con las instrucciones dadas previamente puede usar:
		sudo ARCH=~/comp/adJ/5.4p1-amd64 /inst-adJ.sh

        Este archivo de comandos además de asistir actualizaciones 
        que puedan hacer falta de una versión a otra del sistema base, 
        instala y configura los paquetes y componentes que conforman 
        la distribución adJ: zonas de disco encriptadas, base de 
        datos PostgreSQL --preferiblemente en imagen encriptada--, Apache 
        de OpenBSD con SSL, PHP Hardened, ispell, ruby, escritorio gráfico con 
        fluxbox, navegadores recientes y otras aplicaciones gráficas
        que facilitan el uso (Si prefiere o debe hacer actualización manual 
        del sistema base, tenga en cuenta la lista oficial de cambios 
        requeridos disponible en: http://openbsd.org/faq/upgrade54.html )
      * Si el proceso no concluye exitosamente por favor después de ejecutar
        el instalador y avanzar tanto como pueda envíe el archivo
        /var/tmp/inst-adJ.bitacora a info@pasosdeJesus.org
      * Utiliza sysmerge para actualizar archivos de configuración, como      
      se explica en http://www.openbsd.org/faq/upgrade48.html :

      Sysmerge(8) muestra el resultado del comando diff(1) unificado, pasando
      por un paginador (el que haya configurado en la variable de ambiente 
      $PAGER) y para la mayoría de archivos presenta un mensaje como el 
      siguiente:

      Use 'd' to delete the temporary ./var/www/htdocs/index.html
      Use 'i' to install the temporary ./var/www/htdocs/index.html
      Use 'm' to merge the temporary and installed versions
      Use 'v' to view the diff results again

      Default is to leave the temporary file to deal with by hand

      Si desea retener su archivo actual, borre el temporal con la opción 
      'd', si dese remplazar su archivo existente con la nueva versión, 
      instale el archivo temporal con 'i' Si desea mezclar los dos, 
      al alejir 'm' ingresará al programa sdiff (1) donde podrá mezclar 
      manualmente el archivo.  Por defecto continuará y dejará el archivo 
      sin modificar para manejarlo posteriormente de manera manual.

      Aunque puede funcionar, no se recomienda usar sysmerge para integrar             nuevos usuarios en el sistema, sino para esto usar useradd, que es 
      menos proclive a errores (ayuda: no instale el archivo temporal 
      master.passwd sobre su archivo existente!).

      Sysmerge(8) salva todos sus archivos remplazados en un directorio 
      temporal, como /var/tmp/sysmerge.24959/backups, así que si por 
      accidente elimina algo que no era buena idea eliminar, tiene 
      oportunidad de recuperarlo.  Advertencia: Note que la rutina daily(8)             limpia archivos antiguos de ese directorio.

      En general al usar sysmerge puede remplazar (opción 'i') todos los 
      archivos por sus versiones más recientes, pero dependiendo de los 
       servicios que preste el servidor, hay algunos archivos de 
      configuración que es mejor no remplazar (opción 'd') o que es      
      mejor mezclar si conoce la sintaxis (opción 'm'):
      * En general:
            ** Evitar remplazar /etc/rc.local /etc/hosts
      * Si es cortafuegos: 
            ** Evitar remplazar /etc/pf.conf y /etc/sysctl.conf
      * Si es servidor DNS:
            ** Evitar remplazar /var/named/etc/named.conf
      * Si es servidor de correo: 
            ** Evitar remplazar archivos del directorio /etc/mail 
               (tras actualizar recuerde recompilar sendmail).
      * Si es servidor web: 
            ** Evitar remplazar /var/www/conf/httpd.conf


