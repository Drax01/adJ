diff -ruN src55-orig/lib/libc/asr/gethostnamadr_async.c src/lib/libc/asr/gethostnamadr_async.c
--- src55-orig/lib/libc/asr/gethostnamadr_async.c	Wed Feb 26 15:00:08 2014
+++ src/lib/libc/asr/gethostnamadr_async.c	Mon Aug 25 15:34:18 2014
@@ -565,7 +565,7 @@
 	char	buf[MAXDNAME];
 	size_t	n;
 
-	if (h->h.h_name)
+	if (h->h.h_name || name == NULL)
 		return (-1);
 
 	if (isdname) {
