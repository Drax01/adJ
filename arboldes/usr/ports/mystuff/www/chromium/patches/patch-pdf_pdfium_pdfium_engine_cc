<<<<<<< HEAD
$OpenBSD: patch-pdf_pdfium_pdfium_engine_cc,v 1.13 2016/10/26 06:22:08 robert Exp $
--- pdf/pdfium/pdfium_engine.cc.orig.port	Wed Oct 12 21:03:01 2016
+++ pdf/pdfium/pdfium_engine.cc	Wed Oct 19 12:56:07 2016
@@ -123,7 +123,7 @@ std::vector<uint32_t> GetPageNumbersFromPrintPageNumbe
=======
$OpenBSD: patch-pdf_pdfium_pdfium_engine_cc,v 1.10 2016/05/27 06:28:21 robert Exp $
--- pdf/pdfium/pdfium_engine.cc.orig.port	Wed May 25 21:01:04 2016
+++ pdf/pdfium/pdfium_engine.cc	Thu May 26 08:09:47 2016
@@ -121,7 +121,7 @@ std::vector<uint32_t> GetPageNumbersFromPrintPageNumbe
>>>>>>> 7e8581aadfac3773e05d83a662dae23a33c44e10
   return page_numbers;
 }
 
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_BSD)
 
 PP_Instance g_last_instance_id;
 
<<<<<<< HEAD
@@ -509,7 +509,7 @@ bool InitializeSDK() {
=======
@@ -507,7 +507,7 @@ bool InitializeSDK() {
>>>>>>> 7e8581aadfac3773e05d83a662dae23a33c44e10
   config.m_v8EmbedderSlot = gin::kEmbedderPDFium;
   FPDF_InitLibraryWithConfig(&config);
 
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_BSD)
   // Font loading doesn't work in the renderer sandbox in Linux.
   FPDF_SetSystemFontInfo(&g_font_info);
 #endif
<<<<<<< HEAD
@@ -622,7 +622,7 @@ PDFiumEngine::PDFiumEngine(PDFEngine::Client* client)
=======
@@ -620,7 +620,7 @@ PDFiumEngine::PDFiumEngine(PDFEngine::Client* client)
>>>>>>> 7e8581aadfac3773e05d83a662dae23a33c44e10
   IFSDK_PAUSE::user = nullptr;
   IFSDK_PAUSE::NeedToPauseNow = Pause_NeedToPauseNow;
 
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_BSD)
   // PreviewModeClient does not know its pp::Instance.
   pp::Instance* instance = client_->GetPluginInstance();
   if (instance)
<<<<<<< HEAD
@@ -1331,7 +1331,7 @@ pp::Buffer_Dev PDFiumEngine::PrintPagesAsRasterPDF(
=======
@@ -1330,7 +1330,7 @@ pp::Buffer_Dev PDFiumEngine::PrintPagesAsRasterPDF(
>>>>>>> 7e8581aadfac3773e05d83a662dae23a33c44e10
     FPDF_ClosePage(pdf_page);
   }
 
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_BSD)
   g_last_instance_id = client_->GetPluginInstance()->pp_instance();
 #endif
 
<<<<<<< HEAD
@@ -2736,7 +2736,7 @@ bool PDFiumEngine::ContinuePaint(int progressive_index
=======
@@ -2692,7 +2692,7 @@ bool PDFiumEngine::ContinuePaint(int progressive_index
>>>>>>> 7e8581aadfac3773e05d83a662dae23a33c44e10
   DCHECK_LT(static_cast<size_t>(progressive_index), progressive_paints_.size());
   DCHECK(image_data);
 
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_BSD)
   g_last_instance_id = client_->GetPluginInstance()->pp_instance();
 #endif
 
<<<<<<< HEAD
@@ -3191,7 +3191,7 @@ void PDFiumEngine::SetCurrentPage(int index) {
=======
@@ -3146,7 +3146,7 @@ void PDFiumEngine::SetCurrentPage(int index) {
>>>>>>> 7e8581aadfac3773e05d83a662dae23a33c44e10
     FORM_DoPageAAction(old_page, form_, FPDFPAGE_AACTION_CLOSE);
   }
   most_visible_page_ = index;
-#if defined(OS_LINUX)
+#if defined(OS_LINUX) || defined(OS_BSD)
     g_last_instance_id = client_->GetPluginInstance()->pp_instance();
 #endif
   if (most_visible_page_ != -1 && called_do_document_action_) {
